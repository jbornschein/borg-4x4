#include <avr/io.h>
#include <stdlib.h>

#include "config.h"

#if MATRIX_NPLANES != 13
#  error PWM_SLOTS and MATRIX_NPLANES do not agree:
#endif

/***
 * Gamma table  (256 levels, gamma 3.3)
 *
 * Framerate when using this table (assuming no row muxing and 16 MHz CPU clock): 976.6
 */
uint16_t gamma_table[256] = { 
         0,     1,     1,     1,     1,     1,     1,     1, 
         1,     1,     1,     1,     1,     1,     1,     1, 
         1,     2,     2,     2,     2,     3,     3,     3, 
         4,     4,     5,     5,     6,     7,     8,     8, 
         9,    10,    11,    12,    13,    15,    16,    17, 
        19,    20,    22,    24,    25,    27,    29,    31, 
        34,    36,    38,    41,    44,    46,    49,    52, 
        56,    59,    62,    66,    70,    73,    78,    82, 
        86,    91,    95,   100,   105,   110,   115,   121, 
       127,   133,   139,   145,   151,   158,   165,   172, 
       179,   187,   194,   202,   210,   219,   227,   236, 
       245,   254,   264,   274,   284,   294,   305,   315, 
       326,   338,   349,   361,   373,   386,   399,   412, 
       425,   439,   453,   467,   481,   496,   511,   527, 
       543,   559,   575,   592,   609,   627,   645,   663, 
       681,   700,   719,   739,   759,   779,   800,   821, 
       843,   865,   887,   910,   933,   956,   980,  1005, 
      1029,  1055,  1080,  1106,  1133,  1160,  1187,  1215, 
      1243,  1272,  1301,  1330,  1361,  1391,  1422,  1454, 
      1486,  1518,  1551,  1585,  1619,  1653,  1688,  1724, 
      1760,  1796,  1833,  1871,  1909,  1948,  1987,  2027, 
      2067,  2108,  2149,  2191,  2234,  2277,  2321,  2365, 
      2410,  2455,  2501,  2548,  2595,  2643,  2692,  2741, 
      2790,  2841,  2892,  2943,  2996,  3049,  3102,  3156, 
      3211,  3267,  3323,  3380,  3437,  3495,  3554,  3614, 
      3674,  3735,  3797,  3859,  3922,  3986,  4051,  4116, 
      4182,  4248,  4316,  4384,  4453,  4523,  4593,  4664, 
      4736,  4809,  4883,  4957,  5032,  5108,  5185,  5262, 
      5340,  5419,  5499,  5580,  5661,  5744,  5827,  5911, 
      5996,  6082,  6168,  6255,  6344,  6433,  6523,  6614, 
      6705,  6798,  6892,  6986,  7081,  7178,  7275,  7373, 
      7472,  7572,  7672,  7774,  7877,  7980,  8085,  8191, 
};
