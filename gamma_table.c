#include <avr/io.h>
#include <stdlib.h>

#include "config.h"

#if MATRIX_NPLANES != 14
#  error PWM_SLOTS and MATRIX_NPLANES do not agree:
#endif

/***
 * Gamma table  (256 levels, gamma 3.3)
 *
 * Framerate when using this table (assuming no row muxing and 8 MHz CPU clock): 244.1
 */
uint16_t gamma_table[256] = { 
         0,     1,     1,     1,     1,     1,     1,     1, 
         1,     1,     1,     1,     1,     1,     2,     2, 
         2,     3,     3,     4,     4,     5,     6,     6, 
         7,     8,     9,    10,    12,    13,    15,    16, 
        18,    20,    22,    24,    26,    29,    31,    34, 
        37,    40,    43,    47,    50,    54,    58,    62, 
        67,    71,    76,    81,    87,    92,    98,   104, 
       111,   117,   124,   131,   139,   147,   155,   163, 
       172,   181,   190,   199,   209,   220,   230,   241, 
       253,   265,   277,   289,   302,   315,   329,   343, 
       358,   373,   388,   404,   420,   437,   454,   472, 
       490,   508,   527,   547,   567,   588,   609,   630, 
       653,   675,   698,   722,   747,   771,   797,   823, 
       850,   877,   905,   933,   962,   992,  1022,  1053, 
      1085,  1117,  1150,  1184,  1218,  1253,  1289,  1325, 
      1362,  1400,  1439,  1478,  1518,  1559,  1600,  1642, 
      1685,  1729,  1774,  1819,  1865,  1913,  1960,  2009, 
      2059,  2109,  2160,  2212,  2265,  2319,  2374,  2429, 
      2486,  2543,  2602,  2661,  2721,  2782,  2844,  2907, 
      2971,  3036,  3102,  3169,  3237,  3306,  3376,  3447, 
      3519,  3592,  3666,  3742,  3818,  3895,  3974,  4053, 
      4134,  4216,  4298,  4382,  4468,  4554,  4641,  4730, 
      4820,  4911,  5003,  5096,  5191,  5286,  5383,  5482, 
      5581,  5682,  5784,  5887,  5992,  6097,  6204,  6313, 
      6423,  6534,  6646,  6760,  6875,  6991,  7109,  7228, 
      7349,  7471,  7594,  7719,  7845,  7973,  8102,  8232, 
      8364,  8498,  8632,  8769,  8907,  9046,  9187,  9329, 
      9473,  9619,  9766,  9915, 10065, 10216, 10370, 10525, 
     10681, 10839, 10999, 11161, 11324, 11488, 11655, 11823, 
     11993, 12164, 12337, 12512, 12689, 12867, 13047, 13229, 
     13412, 13597, 13784, 13973, 14164, 14356, 14551, 14747, 
     14945, 15145, 15346, 15550, 15755, 15962, 16171, 16383, 
};
